{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate,useSearchParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PregameMatchDetailPage=()=>{var _match$team1_name,_match$team2_name;const{sport,matchId}=useParams();const navigate=useNavigate();const[searchParams]=useSearchParams();const[match,setMatch]=useState(null);const[loading,setLoading]=useState(true);const[selectedMarket,setSelectedMarket]=useState('main');const[betSlip,setBetSlip]=useState([]);useEffect(()=>{fetchMatchDetails();},[sport,matchId]);const fetchMatchDetails=async()=>{setLoading(true);try{const response=await fetch(\"/api/pregame/match/\".concat(sport,\"/\").concat(matchId));const data=await response.json();setMatch(data.match||null);}catch(error){console.error('Error fetching match details:',error);setMatch(null);}finally{setLoading(false);}};const formatDateTime=timestamp=>{if(!timestamp)return'Unknown';try{const date=new Date(timestamp*1000);return{date:date.toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'}),time:date.toLocaleTimeString('en-GB',{hour:'2-digit',minute:'2-digit'})};}catch(error){return{date:'Unknown',time:'Unknown'};}};const addToBetSlip=(market,option)=>{const betSelection={id:\"\".concat(market.name,\"-\").concat(option.name),market:market.name,selection:option.name,odds:option.value,matchInfo:\"\".concat(match.team1_name,\" vs \").concat(match.team2_name)};setBetSlip(prev=>{const exists=prev.find(bet=>bet.id===betSelection.id);if(exists)return prev;return[...prev,betSelection];});};const removeBet=betId=>{setBetSlip(prev=>prev.filter(bet=>bet.id!==betId));};const getSportIcon=sport=>{const icons={soccer:'âš½',basket:'ðŸ€',tennis:'ðŸŽ¾',baseball:'âš¾',amfootball:'ðŸˆ',hockey:'ðŸ’',volleyball:'ðŸ'};return icons[sport]||'ðŸ†';};const getMarketCategories=()=>{if(!(match!==null&&match!==void 0&&match.markets))return[];// Get all available markets dynamically\nconst availableMarkets=Object.keys(match.markets);// Categorize markets based on their names\nconst categories=[{key:'main',name:'ðŸ”¥ Main Markets',markets:availableMarkets.filter(m=>['home_away','match_winner','double_chance'].includes(m))},{key:'goals',name:'âš½ Goals & Totals',markets:availableMarkets.filter(m=>m.includes('goals')||m.includes('over_under')||m.includes('total')||m.includes('both_teams'))},{key:'handicap',name:'ðŸ“Š Handicaps',markets:availableMarkets.filter(m=>m.includes('handicap')||m.includes('goal_line'))},{key:'halftime',name:'â° Half Time',markets:availableMarkets.filter(m=>m.includes('1st_half')||m.includes('2nd_half')||m.includes('ht_ft'))},{key:'score',name:'ðŸŽ¯ Correct Score',markets:availableMarkets.filter(m=>m.includes('correct_score'))},{key:'specials',name:'âœ¨ Specials',markets:availableMarkets.filter(m=>m.includes('team_to_score')||m.includes('odd_even')||m.includes('corners'))}];// Only return categories that have markets\nreturn categories.filter(cat=>cat.markets.length>0);};const renderMarketOptions=(marketKey,marketData)=>{if(!marketData||!Array.isArray(marketData))return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 capitalize\",children:marketKey.replace('_',' ')}),/*#__PURE__*/_jsxs(\"span\",{className:\"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs px-3 py-1 rounded-full font-bold\",children:[marketData.length,\" options\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:marketData.map((option,index)=>{var _option$value;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>addToBetSlip({name:marketKey},option),className:\"w-full bg-gradient-to-r from-emerald-400 to-teal-500 hover:from-emerald-500 hover:to-teal-600 text-white rounded-xl p-4 transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg group-hover:text-yellow-300 transition-colors\",children:option.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-black bg-black bg-opacity-20 px-3 py-1 rounded-lg\",children:((_option$value=option.value)===null||_option$value===void 0?void 0:_option$value.toFixed(2))||'N/A'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-300 text-xl\",children:\"\\u26A1\"})]})]})},index);})})]});};const getFilteredMarkets=()=>{if(!(match!==null&&match!==void 0&&match.markets))return{};const category=getMarketCategories().find(cat=>cat.key===selectedMarket);if(!category)return match.markets;const filtered={};category.markets.forEach(market=>{if(match.markets[market]){filtered[market]=match.markets[market];}});return filtered;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-24 h-24 mx-auto mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 border-4 border-transparent border-t-white rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-2 border-4 border-transparent border-t-yellow-400 rounded-full animate-spin animation-delay-150\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-4 border-4 border-transparent border-t-pink-400 rounded-full animate-spin animation-delay-300\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-2\",children:\"Loading Match Details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-purple-200\",children:\"Preparing your betting experience...\"})]})});}if(!match){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-red-900 via-pink-900 to-purple-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDE15\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-2\",children:\"Match Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-pink-200 mb-6\",children:\"The match you're looking for doesn't exist or has been removed.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105\",children:\"\\u2190 Go Back\"})]})});}const matchDateTime=formatDateTime(match.start_time);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 opacity-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 transform skew-y-12\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-l from-blue-600 to-purple-600 transform -skew-y-12 translate-y-12\"})]}),/*#__PURE__*/_jsx(\"header\",{className:\"relative z-10 bg-gradient-to-r from-slate-800 to-gray-900 border-b border-purple-500/30 shadow-2xl\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 transform hover:scale-105 flex items-center gap-2\",children:\"\\u2190 Back\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-500 to-pink-500 p-2 rounded-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:getSportIcon(sport)})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white\",children:\"Match Details\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-purple-200 text-sm capitalize\",children:[sport,\" \\u2022 Pregame\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-2 rounded-full text-white font-bold text-sm animate-pulse\",children:\"\\uD83D\\uDD25 Pre-match Betting\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative z-10 container mx-auto px-6 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-4 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"xl:col-span-3 space-y-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-slate-800 to-gray-800 rounded-3xl p-8 border border-purple-500/30 shadow-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-8 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-3 mx-auto shadow-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-white\",children:((_match$team1_name=match.team1_name)===null||_match$team1_name===void 0?void 0:_match$team1_name[0])||'T1'})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white mb-1\",children:match.team1_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-300 text-sm\",children:\"Home\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-black text-white mb-2\",children:\"VS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-500 to-pink-500 px-4 py-2 rounded-full\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-bold text-sm\",children:[getSportIcon(sport),\" \",sport.toUpperCase()]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-br from-pink-500 to-red-600 rounded-full flex items-center justify-center mb-3 mx-auto shadow-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-white\",children:((_match$team2_name=match.team2_name)===null||_match$team2_name===void 0?void 0:_match$team2_name[0])||'T2'})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white mb-1\",children:match.team2_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-pink-300 text-sm\",children:\"Away\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-6 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-500/20 to-purple-500/20 px-4 py-2 rounded-xl border border-blue-500/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-300 text-xs uppercase tracking-wide\",children:\"Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-bold\",children:matchDateTime.date})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-purple-500/20 to-pink-500/20 px-4 py-2 rounded-xl border border-purple-500/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-purple-300 text-xs uppercase tracking-wide\",children:\"Kick-off\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-bold\",children:matchDateTime.time})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-green-500/20 to-emerald-500/20 px-4 py-2 rounded-xl border border-green-500/30\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-green-300 text-xs uppercase tracking-wide\",children:\"Match ID\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-white font-bold\",children:[\"#\",matchId]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-slate-800/80 to-gray-800/80 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20 shadow-xl\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white mb-4 flex items-center gap-2\",children:\"\\uD83C\\uDFAF Betting Markets\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-3\",children:getMarketCategories().map(category=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedMarket(category.key),className:\"px-6 py-3 rounded-xl font-bold text-sm transition-all duration-200 transform hover:scale-105 \".concat(selectedMarket===category.key?'bg-gradient-to-r from-yellow-400 to-orange-500 text-black shadow-lg':'bg-gradient-to-r from-slate-700 to-gray-700 text-white hover:from-slate-600 hover:to-gray-600'),children:category.name},category.key))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:Object.entries(getFilteredMarkets()).map(_ref=>{let[marketKey,marketData]=_ref;return renderMarketOptions(marketKey,marketData);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"xl:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-800 to-gray-900 rounded-2xl border border-purple-500/30 shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-600 to-pink-600 p-4 rounded-t-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white flex items-center gap-2\",children:\"\\uD83C\\uDFAB Bet Slip\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-white bg-opacity-20 px-3 py-1 rounded-full text-white text-sm font-bold\",children:betSlip.length})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:betSlip.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-3\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mb-2\",children:\"No bets selected\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"Click on odds to add selections\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[betSlip.map(bet=>{var _bet$odds;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-slate-700 to-gray-700 rounded-xl p-3 border border-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-semibold text-sm truncate\",children:bet.selection}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-xs\",children:bet.market})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeBet(bet.id),className:\"text-red-400 hover:text-red-300 ml-2\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400 font-bold text-lg\",children:(_bet$odds=bet.odds)===null||_bet$odds===void 0?void 0:_bet$odds.toFixed(2)}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-green-500 to-emerald-600 px-2 py-1 rounded text-white text-xs font-bold\",children:\"\\u26A1 LIVE\"})]})]},bet.id);}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4 border-t border-gray-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-white\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Odds:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-yellow-400\",children:betSlip.reduce((acc,bet)=>acc*(bet.odds||1),1).toFixed(2)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg\",children:\"\\uD83D\\uDE80 Place Bet\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setBetSlip([]),className:\"w-full bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white font-bold py-2 px-4 rounded-xl transition-all duration-200\",children:\"Clear All\"})]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-gradient-to-br from-blue-800/50 to-purple-800/50 backdrop-blur-sm rounded-2xl p-4 border border-blue-500/30\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-bold mb-3 flex items-center gap-2\",children:\"\\uD83D\\uDCCA Quick Stats\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Available Markets:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold\",children:Object.keys(match.markets||{}).length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Best Odds:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400 font-bold\",children:\"\\u26A1 Live\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400 font-bold\",children:\"Pre-match\"})]})]})]})]})})]})})]});};export default PregameMatchDetailPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}