{"ast":null,"code":"import _objectSpread from\"/home/sami/aaa/sportsbook/assets/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate,useParams,useSearchParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SPORTS=['soccer','basketball','tennis','hockey','handball','volleyball','football','baseball','cricket','rugby','rugbyleague','boxing','esports','futsal','mma','table_tennis','golf','darts'];const FILTERS=[{key:'one_hour',label:'1 Hour'},{key:'three_hours',label:'3 Hours'},{key:'six_hours',label:'6 Hours'},{key:'twelve_hours',label:'12 Hours'},{key:'today',label:'Today'},{key:'all',label:'All'}];const PregameSportsPage=()=>{const navigate=useNavigate();const{sport:urlSport}=useParams();const[searchParams,setSearchParams]=useSearchParams();const[selectedSport,setSelectedSport]=useState(urlSport||'soccer');const[filter,setFilter]=useState(searchParams.get('filter')||'today');const[selectedLeagues,setSelectedLeagues]=useState({});const[leagues,setLeagues]=useState([]);const[loading,setLoading]=useState(false);const[sidebarVisible,setSidebarVisible]=useState(false);useEffect(()=>{fetchLeagues();},[selectedSport,filter]);const fetchLeagues=async()=>{setLoading(true);try{const response=await fetch(\"/api/pregame/sports/\".concat(selectedSport,\"?filter=\").concat(filter));const data=await response.json();setLeagues(data.leagues||[]);}catch(error){console.error('Error fetching leagues:',error);setLeagues([]);}finally{setLoading(false);}};const handleSportSelect=sport=>{setSelectedSport(sport);setSelectedLeagues({});navigate(\"/pregame/\".concat(sport,\"?filter=\").concat(filter));};const handleFilterSelect=filterKey=>{setFilter(filterKey);setSelectedLeagues({});setSearchParams({filter:filterKey});};const toggleLeague=leagueKey=>{setSelectedLeagues(prev=>_objectSpread(_objectSpread({},prev),{},{[leagueKey]:!prev[leagueKey]}));};const selectAll=()=>{const allLeagues={};leagues.forEach(_ref=>{let[country,leagueList]=_ref;leagueList.forEach(league=>{allLeagues[\"\".concat(country,\":\").concat(league)]=true;});});setSelectedLeagues(allLeagues);};const validateSelection=()=>{const selectedKeys=Object.keys(selectedLeagues).filter(key=>selectedLeagues[key]);if(selectedKeys.length===0)return;const params=new URLSearchParams({sport:selectedSport,filter:filter,leagues:selectedKeys});navigate(\"/pregame/matches?\".concat(params));};const filterLabel=filterKey=>{const filterObj=FILTERS.find(f=>f.key===filterKey);return filterObj?filterObj.label:'Unknown';};const toggleSidebar=()=>{setSidebarVisible(!sidebarVisible);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row h-screen bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden flex items-center justify-between bg-[#282828] p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-[#00FFB6]\",children:\"Sports\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleSidebar,className:\"text-white focus:outline-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 6h16M4 12h16M4 18h16\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(sidebarVisible?'block':'hidden',\" md:block md:w-[17rem] w-full bg-[#282828] text-white p-4 overflow-y-auto scrollbar scrollbar-thin scrollbar-thumb-[#404040] scrollbar-track-[#282828]\"),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4 text-[#00FFB6] md:block hidden\",children:\"Sports\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"-mx-4\",children:SPORTS.map(sport=>/*#__PURE__*/_jsxs(\"li\",{className:\"block w-full flex items-center font-semibold py-2 px-4 rounded bg-transparent transition hover:text-[#00DFA9] \".concat(sport===selectedSport?'bg-gray-600':'hover:text-[#00DFA9]',\" transition cursor-pointer\"),onClick:()=>handleSportSelect(sport),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/\".concat(sport,\".svg\"),className:\"h-[20px] w-[20px] mr-2\",alt:sport,onError:e=>{e.target.style.display='none';}}),sport.charAt(0).toUpperCase()+sport.slice(1).replace('_',' ')]},sport))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 p-4 overflow-y-auto bg-[#383838]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white\",children:\"Leagues\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:FILTERS.map(filterObj=>/*#__PURE__*/_jsx(\"button\",{className:\"py-1.5 px-3.5 rounded-full font-medium text-xs sm:text-sm border transition-all duration-150 shadow-[0_3px_0_rgba(0,0,0,0.2)] hover:shadow-[0_2px_0_rgba(0,0,0,0.2)] active:translate-y-0.5 active:shadow-none \".concat(filterObj.key===filter?'bg-[#00FFB6] border-[#00DFA9] text-[#282828] font-semibold':'bg-[#464646] border-[#404040] text-gray-300 hover:bg-[#404040]'),onClick:()=>handleFilterSelect(filterObj.key),children:/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1.5\",children:[filterObj.key==='all'&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\",clipRule:\"evenodd\"})}),filterObj.label]})},filterObj.key))})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-white\",children:\"Loading leagues...\"})}):leagues.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No leagues available for the selected sport and filter.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5 flex flex-col sm:flex-row gap-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"py-1.5 px-3 rounded-sm font-medium text-xs sm:text-sm bg-transparent border border-[#00DFA9] text-[#00DFA9] hover:bg-[#00DFA9]/10 hover:border-[#00FFB6] hover:text-[#00FFB6] transition-colors duration-150 focus:outline-none focus:ring-1 focus:ring-[#00FFB6]\",onClick:selectAll,children:/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center justify-center gap-1.5\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M20 6L9 17l-5-5\"})}),\"Select All\"]})}),/*#__PURE__*/_jsx(\"button\",{className:\"py-1.5 px-3 rounded-sm font-medium text-xs sm:text-sm bg-[#00DFA9] text-[#282828] hover:bg-[#00FFB6] transition-colors duration-150 focus:outline-none focus:ring-1 focus:ring-[#00FFB6]\",onClick:validateSelection,children:/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center justify-center gap-1.5\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 13l4 4L19 7\"})}),\"Confirm\"]})})]}),leagues.map((_ref2,index)=>{let[country,leagueList,count]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-[#404040]/50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-1 py-1.5 bg-[#464646]\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-[12px] font-semibold text-gray-100 uppercase tracking-tight\",children:country}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[11px] bg-[#404040] text-gray-300 px-1.5 py-0.5 rounded\",children:[count,\" leagues\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-4 gap-0\",children:leagueList.map((league,leagueIndex)=>{const leagueKey=\"\".concat(country,\":\").concat(league);return/*#__PURE__*/_jsxs(\"div\",{className:\"group flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-2 py-1.5\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"w-3.5 h-3.5 rounded-sm border-gray-500 text-[#00DFA9] focus:ring-1 focus:ring-[#00DFA9] bg-[#464646]\",checked:!!selectedLeagues[leagueKey],onChange:()=>toggleLeague(leagueKey)})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const params=new URLSearchParams({sport:selectedSport,filter:filter,leagues:[leagueKey]});navigate(\"/pregame/matches?\".concat(params));},className:\"flex-1 px-2 py-1.5 text-[13px] font-medium text-gray-100 hover:text-[#00FFB6] text-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-[12px]\",children:league})})})]},\"\".concat(league,\"-\").concat(leagueIndex));})})]},\"\".concat(country,\"-\").concat(index));})]})]})]});};export default PregameSportsPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}