{"ast":null,"code":"import _objectSpread from\"/home/sami/aaa/sportsbook/assets/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useParams,useNavigate}from'react-router-dom';import{Socket}from'phoenix';import'./MatchDetailPageNew.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MatchDetailPageNew(){var _fullMatchData$t,_selectedMatch$data,_selectedMatch$data$t,_fullMatchData$t2,_selectedMatch$data2,_selectedMatch$data2$,_selectedMatch$data3,_fullMatchData$t3,_selectedMatch$data4,_selectedMatch$data4$,_fullMatchData$t4,_selectedMatch$data5,_selectedMatch$data5$,_fullMatchData$t5,_fullMatchData$t6,_fullMatchData$t7,_fullMatchData$t8,_fullMatchData$stats,_fullMatchData$t9,_fullMatchData$stats2,_fullMatchData$stats3,_fullMatchData$stats4,_fullMatchData$stats5;const{sport:selectedSport,matchId}=useParams();const navigate=useNavigate();// State management\nconst[socket,setSocket]=useState(null);const[connectionStatus,setConnectionStatus]=useState('connecting');const[allMatches,setAllMatches]=useState({});const[sports,setSports]=useState([]);const[selectedMatch,setSelectedMatch]=useState(null);const[fullMatchData,setFullMatchData]=useState(null);const[expandedSports,setExpandedSports]=useState(new Set([selectedSport]));const[marketDictionaries,setMarketDictionaries]=useState({});const[matchEventsDictionaries,setMatchEventsDictionaries]=useState({});const[matchEvents,setMatchEvents]=useState([]);const[ballPosition,setBallPosition]=useState({x:50,y:50});const[ballPath,setBallPath]=useState([]);// Refs\nconst matchChannelsRef=useRef(new Map());const detailChannelRef=useRef(null);const subscribedMatches=useRef(new Set());// Initialize WebSocket connection\nuseEffect(()=>{const newSocket=new Socket('/socket',{params:{userToken:'anonymous'}});newSocket.connect();newSocket.onOpen(()=>{console.log('✅ WebSocket connected');setConnectionStatus('connected');});newSocket.onError(error=>{console.log('❌ WebSocket error:',error);setConnectionStatus('error');});newSocket.onClose(()=>{console.log('🔌 WebSocket disconnected');setConnectionStatus('disconnected');});setSocket(newSocket);return()=>{if(newSocket){newSocket.disconnect();}};},[]);// Fetch sports and matches data\nuseEffect(()=>{const fetchData=async()=>{try{console.log('🔄 Fetching sports data...');const sportsResponse=await fetch('/api/sports');const sportsData=await sportsResponse.json();console.log('📊 Received sports data:',JSON.stringify(sportsData,null,2));if(sportsData.sports&&Array.isArray(sportsData.sports)){setSports(sportsData.sports);// Fetch matches for the selected sport first\nif(selectedSport){console.log(\"\\uD83D\\uDD04 Fetching matches for \".concat(selectedSport,\"...\"));const matchesResponse=await fetch(\"/api/matches/\".concat(selectedSport));const matchesData=await matchesResponse.json();console.log(\"\\uD83D\\uDCCA Received matches for \".concat(selectedSport,\":\"),JSON.stringify(matchesData,null,2));if(matchesData.matches){setAllMatches(prev=>_objectSpread(_objectSpread({},prev),{},{[selectedSport]:matchesData.matches}));}}}}catch(error){console.error('❌ Error fetching data:',error);}};fetchData();},[selectedSport]);// Fetch dictionaries for selected sport\nuseEffect(()=>{if(selectedSport){fetchDictionaries(selectedSport);}},[selectedSport]);// Subscribe to match updates\nuseEffect(()=>{if(!socket||!allMatches[selectedSport])return;// Subscribe to all matches of the selected sport\nallMatches[selectedSport].forEach(league=>{league.matches.forEach(match=>{subscribeToMatch(selectedSport,match.id);});});return()=>{// Cleanup subscriptions\nmatchChannelsRef.current.forEach(channel=>{channel.leave();});matchChannelsRef.current.clear();subscribedMatches.current.clear();};},[socket,allMatches,selectedSport]);// Subscribe to detailed match data\nuseEffect(()=>{if(!socket||!selectedSport||!matchId)return;const detailChannel=socket.channel(\"match_details:\".concat(selectedSport,\":\").concat(matchId),{});detailChannel.join().receive('ok',()=>{console.log(\"\\u2705 Subscribed to detailed match data: \".concat(selectedSport,\":\").concat(matchId));}).receive('error',resp=>{console.log(\"\\u274C Failed to subscribe to detailed match data:\",resp);});detailChannel.on('match_detail_update',payload=>{var _payload$data,_payload$data2;console.log('📊 Received detailed match data:',payload);setFullMatchData(payload.data);// Extract match events for tracker\nif((_payload$data=payload.data)!==null&&_payload$data!==void 0&&_payload$data.events){setMatchEvents(payload.data.events);}// Extract ball position if available\nif((_payload$data2=payload.data)!==null&&_payload$data2!==void 0&&_payload$data2.ball_position){const newPos={x:payload.data.ball_position.x,y:payload.data.ball_position.y};setBallPosition(newPos);setBallPath(prev=>[...prev.slice(-10),newPos]);// Keep last 10 positions\n}});detailChannelRef.current=detailChannel;return()=>{if(detailChannel){detailChannel.leave();}};},[socket,selectedSport,matchId]);// Find and set selected match\nuseEffect(()=>{if(allMatches[selectedSport]&&matchId){const match=findMatchById(selectedSport,matchId);if(match){setSelectedMatch(match);// Ensure selected sport is expanded\nsetExpandedSports(prev=>new Set([...prev,selectedSport]));}}},[allMatches,selectedSport,matchId]);const fetchDictionaries=async sport=>{try{const response=await fetch(\"/api/markets/\".concat(sport));const data=await response.json();if(data.markets){const marketMap={};data.markets.forEach(market=>{marketMap[market.id]=market.name;});setMarketDictionaries(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:marketMap}));}if(data.match_events){const eventsMap={};data.match_events.forEach(event=>{eventsMap[event.id]=event.name;});setMatchEventsDictionaries(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:eventsMap}));}}catch(error){console.error('Error fetching dictionaries:',error);}};const subscribeToMatch=(sport,matchId)=>{if(!socket)return;const channelKey=\"\".concat(sport,\":\").concat(matchId);if(subscribedMatches.current.has(channelKey))return;const matchChannel=socket.channel(\"match:\".concat(sport,\":\").concat(matchId),{});matchChannel.join().receive('ok',()=>{console.log(\"\\u2705 Subscribed to match: \".concat(sport,\":\").concat(matchId));subscribedMatches.current.add(channelKey);}).receive('error',resp=>{console.log(\"\\u274C Failed to subscribe to match:\",resp);});matchChannel.on('match_update',payload=>{updateMatchData(sport,matchId,payload.data);});matchChannelsRef.current.set(channelKey,matchChannel);};const updateMatchData=(sport,matchId,newData)=>{setAllMatches(prevMatches=>{if(!prevMatches[sport])return prevMatches;return _objectSpread(_objectSpread({},prevMatches),{},{[sport]:prevMatches[sport].map(league=>{const matchIndex=league.matches.findIndex(m=>m.id===matchId);if(matchIndex===-1)return league;const updatedMatches=[...league.matches];updatedMatches[matchIndex]=_objectSpread(_objectSpread({},updatedMatches[matchIndex]),{},{data:newData});return _objectSpread(_objectSpread({},league),{},{matches:updatedMatches});})});});// Update selected match if it's the one being updated\nif(selectedMatch&&selectedMatch.id===matchId&&sport===selectedSport){setSelectedMatch(prevMatch=>_objectSpread(_objectSpread({},prevMatch),{},{data:newData}));}};const findMatchById=(sport,matchId)=>{if(!allMatches[sport])return null;for(const league of allMatches[sport]){const match=league.matches.find(m=>m.id===matchId);if(match)return match;}return null;};const handleSportToggle=sportName=>{setExpandedSports(prev=>{const newSet=new Set(prev);if(newSet.has(sportName)){newSet.delete(sportName);}else{newSet.add(sportName);}return newSet;});};const handleMatchSelect=(sport,matchId)=>{navigate(\"/match/\".concat(sport,\"/\").concat(matchId));};const getMarketName=marketId=>{var _marketDictionaries$s;return((_marketDictionaries$s=marketDictionaries[selectedSport])===null||_marketDictionaries$s===void 0?void 0:_marketDictionaries$s[marketId])||\"Market \".concat(marketId);};const getEventName=eventId=>{var _matchEventsDictionar;return((_matchEventsDictionar=matchEventsDictionaries[selectedSport])===null||_matchEventsDictionar===void 0?void 0:_matchEventsDictionar[eventId])||\"Event \".concat(eventId);};const formatSportName=sport=>{return sport.charAt(0).toUpperCase()+sport.slice(1);};const formatTime=seconds=>{if(!seconds)return'--:--';const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins.toString().padStart(2,'0'),\":\").concat(secs.toString().padStart(2,'0'));};const getScore=matchData=>{var _matchData$t,_matchData$t2;if(!matchData)return'0 - 0';const score1=((_matchData$t=matchData.t1)===null||_matchData$t===void 0?void 0:_matchData$t.score)||0;const score2=((_matchData$t2=matchData.t2)===null||_matchData$t2===void 0?void 0:_matchData$t2.score)||0;return\"\".concat(score1,\" - \").concat(score2);};// Debug logging\nconsole.log('🔍 Debug Info:',{selectedSport,matchId,selectedMatch,allMatches:Object.keys(allMatches),sports:sports.length});if(!selectedMatch&&sports.length>0&&Object.keys(allMatches).length>0){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Match not found: \",selectedSport,\":\",matchId]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Available sports: \",Object.keys(allMatches).join(', ')]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),children:\"\\u2190 Back to Home\"})]});}if(!selectedMatch){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading match data...\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Sport: \",selectedSport,\", Match: \",matchId]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),children:\"\\u2190 Back to Home\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"match-detail-page-new\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"left-sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-header\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>navigate('/'),children:\"\\u2190 Back to Home\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"sports-list\",children:sports.map(sport=>/*#__PURE__*/_jsxs(\"div\",{className:\"sport-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sport-header \".concat(expandedSports.has(sport.name)?'expanded':''),onClick:()=>handleSportToggle(sport.name),children:[/*#__PURE__*/_jsx(\"span\",{className:\"sport-name\",children:formatSportName(sport.name)}),/*#__PURE__*/_jsx(\"span\",{className:\"match-count\",children:sport.match_count}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-arrow\",children:expandedSports.has(sport.name)?'▼':'▶'})]}),expandedSports.has(sport.name)&&allMatches[sport.name]&&/*#__PURE__*/_jsx(\"div\",{className:\"matches-container\",children:allMatches[sport.name].map((league,leagueIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"league-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"league-header\",children:league.league}),league.matches.map(match=>{var _match$data,_match$data$t,_match$data2,_match$data2$t,_match$data3;return/*#__PURE__*/_jsxs(\"div\",{className:\"match-item \".concat(match.id===matchId?'selected':''),onClick:()=>handleMatchSelect(sport.name,match.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"match-teams\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"team-name\",children:((_match$data=match.data)===null||_match$data===void 0?void 0:(_match$data$t=_match$data.t1)===null||_match$data$t===void 0?void 0:_match$data$t.name)||'Team 1'}),/*#__PURE__*/_jsx(\"div\",{className:\"vs\",children:\"vs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"team-name\",children:((_match$data2=match.data)===null||_match$data2===void 0?void 0:(_match$data2$t=_match$data2.t2)===null||_match$data2$t===void 0?void 0:_match$data2$t.name)||'Team 2'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"match-score\",children:getScore(match.data)}),/*#__PURE__*/_jsx(\"div\",{className:\"match-time\",children:formatTime((_match$data3=match.data)===null||_match$data3===void 0?void 0:_match$data3.time)})]},match.id);})]},leagueIndex))})]},sport.name))})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"match-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"teams-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"team\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"team-name\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t=fullMatchData.t1)===null||_fullMatchData$t===void 0?void 0:_fullMatchData$t.name)||((_selectedMatch$data=selectedMatch.data)===null||_selectedMatch$data===void 0?void 0:(_selectedMatch$data$t=_selectedMatch$data.t1)===null||_selectedMatch$data$t===void 0?void 0:_selectedMatch$data$t.name)||'Team 1'}),/*#__PURE__*/_jsx(\"div\",{className:\"team-score\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t2=fullMatchData.t1)===null||_fullMatchData$t2===void 0?void 0:_fullMatchData$t2.score)||((_selectedMatch$data2=selectedMatch.data)===null||_selectedMatch$data2===void 0?void 0:(_selectedMatch$data2$=_selectedMatch$data2.t1)===null||_selectedMatch$data2$===void 0?void 0:_selectedMatch$data2$.score)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-status\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"match-time\",children:formatTime((fullMatchData===null||fullMatchData===void 0?void 0:fullMatchData.time)||((_selectedMatch$data3=selectedMatch.data)===null||_selectedMatch$data3===void 0?void 0:_selectedMatch$data3.time))}),/*#__PURE__*/_jsx(\"div\",{className:\"vs\",children:\"VS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"team\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"team-score\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t3=fullMatchData.t2)===null||_fullMatchData$t3===void 0?void 0:_fullMatchData$t3.score)||((_selectedMatch$data4=selectedMatch.data)===null||_selectedMatch$data4===void 0?void 0:(_selectedMatch$data4$=_selectedMatch$data4.t2)===null||_selectedMatch$data4$===void 0?void 0:_selectedMatch$data4$.score)||0}),/*#__PURE__*/_jsx(\"h2\",{className:\"team-name\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t4=fullMatchData.t2)===null||_fullMatchData$t4===void 0?void 0:_fullMatchData$t4.name)||((_selectedMatch$data5=selectedMatch.data)===null||_selectedMatch$data5===void 0?void 0:(_selectedMatch$data5$=_selectedMatch$data5.t2)===null||_selectedMatch$data5$===void 0?void 0:_selectedMatch$data5$.name)||'Team 2'})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"markets-section\",children:fullMatchData!==null&&fullMatchData!==void 0&&fullMatchData.odds&&Array.isArray(fullMatchData.odds)?/*#__PURE__*/_jsx(\"div\",{className:\"markets-grid\",children:fullMatchData.odds.map((market,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"market-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"market-header\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"market-name\",children:[getMarketName(market.id),market.ha&&/*#__PURE__*/_jsxs(\"span\",{className:\"handicap\",children:[\"(\",market.ha,\")\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"odds-grid\",children:market.o&&Array.isArray(market.o)?market.o.map((odd,oddIndex)=>/*#__PURE__*/_jsxs(\"button\",{className:\"odd-button \".concat(odd.bl===1?'blocked':''),disabled:odd.bl===1,children:[/*#__PURE__*/_jsx(\"span\",{className:\"odd-name\",children:odd.n}),/*#__PURE__*/_jsx(\"span\",{className:\"odd-value\",children:odd.v})]},oddIndex)):/*#__PURE__*/_jsx(\"div\",{className:\"no-odds\",children:\"No odds available\"})})]},index))}):/*#__PURE__*/_jsxs(\"div\",{className:\"loading-markets\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading match markets...\"})]})})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"right-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tracker-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Live Match Tracker\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"connection-indicator \".concat(connectionStatus),children:[\"\\u25CF \",connectionStatus]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"team-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"team-name\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t5=fullMatchData.t1)===null||_fullMatchData$t5===void 0?void 0:_fullMatchData$t5.name)||'AZ'}),/*#__PURE__*/_jsx(\"span\",{className:\"team-score\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t6=fullMatchData.t1)===null||_fullMatchData$t6===void 0?void 0:_fullMatchData$t6.score)||'4'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"match-separator\",children:\"-\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"team-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"team-score\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t7=fullMatchData.t2)===null||_fullMatchData$t7===void 0?void 0:_fullMatchData$t7.score)||'1'}),/*#__PURE__*/_jsx(\"span\",{className:\"team-name\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t8=fullMatchData.t2)===null||_fullMatchData$t8===void 0?void 0:_fullMatchData$t8.name)||'Heerenveen'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"match-field\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"field-svg\",viewBox:\"0 0 450 300\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"pattern\",{id:\"grassTexture\",x:\"0\",y:\"0\",width:\"20\",height:\"20\",patternUnits:\"userSpaceOnUse\",children:[/*#__PURE__*/_jsx(\"rect\",{width:\"20\",height:\"20\",fill:\"#2d5a3d\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"0\",y:\"0\",width:\"10\",height:\"10\",fill:\"#245132\",opacity:\"0.8\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"10\",y:\"10\",width:\"10\",height:\"10\",fill:\"#245132\",opacity:\"0.8\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"5\",cy:\"5\",r:\"1\",fill:\"#1f4529\",opacity:\"0.6\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"15\",cy:\"15\",r:\"1\",fill:\"#1f4529\",opacity:\"0.6\"})]}),/*#__PURE__*/_jsxs(\"radialGradient\",{id:\"fieldLighting\",cx:\"50%\",cy:\"50%\",r:\"70%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#4ade80\",stopOpacity:\"0.3\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"70%\",stopColor:\"#22c55e\",stopOpacity:\"0.1\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#16a34a\",stopOpacity:\"0.2\"})]}),/*#__PURE__*/_jsx(\"filter\",{id:\"ballShadow\",x:\"-50%\",y:\"-50%\",width:\"200%\",height:\"200%\",children:/*#__PURE__*/_jsx(\"feDropShadow\",{dx:\"1\",dy:\"2\",stdDeviation:\"1\",floodColor:\"#000000\",floodOpacity:\"0.3\"})})]}),/*#__PURE__*/_jsx(\"rect\",{x:\"0\",y:\"0\",width:\"450\",height:\"300\",fill:\"url(#grassTexture)\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"0\",y:\"0\",width:\"450\",height:\"300\",fill:\"url(#fieldLighting)\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"10\",y:\"10\",width:\"430\",height:\"280\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"225\",y1:\"10\",x2:\"225\",y2:\"290\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"225\",cy:\"150\",r:\"40\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"225\",cy:\"150\",r:\"2\",fill:\"#ffffff\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"10\",y:\"80\",width:\"55\",height:\"140\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"385\",y:\"80\",width:\"55\",height:\"140\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"10\",y:\"115\",width:\"20\",height:\"70\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"420\",y:\"115\",width:\"20\",height:\"70\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"7\",y:\"125\",width:\"3\",height:\"50\",fill:\"#ffffff\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"440\",y:\"125\",width:\"3\",height:\"50\",fill:\"#ffffff\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"37\",cy:\"150\",r:\"2\",fill:\"#ffffff\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"413\",cy:\"150\",r:\"2\",fill:\"#ffffff\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M 10 10 A 8 8 0 0 1 18 10\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M 432 10 A 8 8 0 0 0 440 10\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M 10 290 A 8 8 0 0 0 18 290\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M 432 290 A 8 8 0 0 1 440 290\",fill:\"none\",stroke:\"#ffffff\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"195\",y:\"25\",width:\"60\",height:\"25\",fill:\"#000000\",fillOpacity:\"0.8\",rx:\"4\"}),/*#__PURE__*/_jsx(\"text\",{x:\"225\",y:\"42\",textAnchor:\"middle\",fill:\"#00ff88\",fontSize:\"14\",fontWeight:\"bold\",fontFamily:\"Arial\",children:fullMatchData!==null&&fullMatchData!==void 0&&fullMatchData.time?formatTime(fullMatchData.time):'85:06'}),ballPath.length>1&&/*#__PURE__*/_jsx(\"g\",{children:ballPath.map((pos,index)=>{if(index===0)return null;const prevPos=ballPath[index-1];const opacity=Math.max(0.2,1-(ballPath.length-index)*0.1);return/*#__PURE__*/_jsx(\"line\",{x1:prevPos.x*4.3+10,y1:prevPos.y*2.8+10,x2:pos.x*4.3+10,y2:pos.y*2.8+10,stroke:\"#00ff88\",strokeWidth:\"3\",opacity:opacity,strokeDasharray:\"2,2\"},index);})}),/*#__PURE__*/_jsxs(\"g\",{transform:\"translate(\".concat(ballPosition.x*4.3+10,\", \").concat(ballPosition.y*2.8+10,\")\"),children:[/*#__PURE__*/_jsx(\"ellipse\",{cx:\"1\",cy:\"8\",rx:\"4\",ry:\"2\",fill:\"#000000\",fillOpacity:\"0.3\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"0\",cy:\"0\",r:\"5\",fill:\"#ffffff\",stroke:\"#000000\",strokeWidth:\"1\",filter:\"url(#ballShadow)\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"cy\",values:\"0;-2;0\",dur:\"0.8s\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"path\",{d:\"M-3,-2 L3,-2 M-2,-4 L2,0 M-2,4 L2,0\",stroke:\"#000000\",strokeWidth:\"0.5\",fill:\"none\"})]}),(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$stats=fullMatchData.stats)===null||_fullMatchData$stats===void 0?void 0:_fullMatchData$stats.possession)&&/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"rect\",{x:\"320\",y:\"60\",width:\"110\",height:\"30\",fill:\"#000000\",fillOpacity:\"0.8\",rx:\"4\"}),/*#__PURE__*/_jsx(\"text\",{x:\"375\",y:\"78\",textAnchor:\"middle\",fill:\"#00ff88\",fontSize:\"12\",fontWeight:\"bold\",fontFamily:\"Arial\",children:((_fullMatchData$t9=fullMatchData.t2)===null||_fullMatchData$t9===void 0?void 0:_fullMatchData$t9.name)||'Heerenveen'}),/*#__PURE__*/_jsx(\"text\",{x:\"375\",y:\"90\",textAnchor:\"middle\",fill:\"#00ff88\",fontSize:\"10\",fontFamily:\"Arial\",children:\"In Possession\"})]}),matchEvents.slice(-1).map((event,index)=>{if(event.type==='goal'||event.type==='shot'){return/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsxs(\"circle\",{cx:event.x*4.3+10||225,cy:event.y*2.8+10||150,r:\"8\",fill:\"none\",stroke:\"#ff4444\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"animate\",{attributeName:\"r\",values:\"8;20;8\",dur:\"2s\",repeatCount:\"3\"}),/*#__PURE__*/_jsx(\"animate\",{attributeName:\"stroke-opacity\",values:\"0.8;0.2;0.8\",dur:\"2s\",repeatCount:\"3\"})]})},\"event-\".concat(index));}return null;})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-events\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Match Events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"events-list\",children:matchEvents.slice(-10).map((event,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"event-item \".concat(event.type),children:[/*#__PURE__*/_jsx(\"div\",{className:\"event-time\",children:formatTime(event.time)}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-description\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"event-icon\",children:getEventIcon(event.type)}),/*#__PURE__*/_jsx(\"span\",{className:\"event-text\",children:getEventName(event.type)}),event.player&&/*#__PURE__*/_jsx(\"span\",{className:\"event-player\",children:event.player})]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-stats\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Live Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Possession\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"stat-fill\",style:{width:\"\".concat((fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$stats2=fullMatchData.stats)===null||_fullMatchData$stats2===void 0?void 0:_fullMatchData$stats2.possession)||50,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$stats3=fullMatchData.stats)===null||_fullMatchData$stats3===void 0?void 0:_fullMatchData$stats3.possession)||50,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Shots\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$stats4=fullMatchData.stats)===null||_fullMatchData$stats4===void 0?void 0:_fullMatchData$stats4.shots)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Corners\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$stats5=fullMatchData.stats)===null||_fullMatchData$stats5===void 0?void 0:_fullMatchData$stats5.corners)||0})]})]})]})]})]});}function getEventIcon(eventType){const icons={'goal':'⚽','yellow_card':'🟡','red_card':'🟥','corner':'🚩','attack':'⚡','dangerous_attack':'🔥','throw_in':'🤾','goal_kick':'🥅','free_kick':'🦶','penalty':'🥅','substitution':'🔄'};return icons[eventType]||'●';}export default MatchDetailPageNew;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}