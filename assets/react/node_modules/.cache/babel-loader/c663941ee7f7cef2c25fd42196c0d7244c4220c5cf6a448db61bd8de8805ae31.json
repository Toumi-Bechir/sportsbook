{"ast":null,"code":"import _objectSpread from\"/home/sami/aaa/sportsbook/assets/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{useParams,useNavigate}from'react-router-dom';import{Socket}from'phoenix';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MatchDetailPage(){var _selectedMatch$data,_fullMatchData$t,_selectedMatch$data2,_selectedMatch$data2$,_ref2,_fullMatchData$t1$sco,_fullMatchData$t2,_selectedMatch$data3,_selectedMatch$data3$,_selectedMatch$data4,_fullMatchData$time,_selectedMatch$data5,_fullMatchData$t3,_selectedMatch$data6,_selectedMatch$data6$,_ref3,_fullMatchData$t2$sco,_fullMatchData$t4,_selectedMatch$data7,_selectedMatch$data7$,_fullMatchData$odds;const{sport:selectedSport,matchId}=useParams();const navigate=useNavigate();// State management\nconst[sports,setSports]=useState([]);const[allMatches,setAllMatches]=useState({});const[expandedSports,setExpandedSports]=useState(new Set([selectedSport]));const[isMobileMenuOpen,setIsMobileMenuOpen]=useState(false);const[isLeftSidebarOpen,setIsLeftSidebarOpen]=useState(true);const[expandedSportsInSidebar,setExpandedSportsInSidebar]=useState(new Set());const[selectedMatch,setSelectedMatch]=useState(null);const[fullMatchData,setFullMatchData]=useState(null);const[activeTab,setActiveTab]=useState('tracker');const[selectedMarketCategory,setSelectedMarketCategory]=useState('popular');// Dictionaries\nconst[marketDictionaries,setMarketDictionaries]=useState({});const[matchEventsDictionaries,setMatchEventsDictionaries]=useState({});// Socket management\nconst[socket,setSocket]=useState(null);const[connectionStatus,setConnectionStatus]=useState('disconnected');const matchChannelsRef=useRef(new Map());const detailChannelRef=useRef(null);const subscribedMatches=useRef(new Set());// Initialize socket\nuseEffect(()=>{const newSocket=new Socket('/socket',{params:{userToken:'anonymous'}});newSocket.onOpen(()=>{setConnectionStatus('connected');});newSocket.onError(()=>{setConnectionStatus('error');});newSocket.onClose(()=>{setConnectionStatus('disconnected');});newSocket.connect();setSocket(newSocket);return()=>{if(newSocket){newSocket.disconnect();}};},[]);// Fetch sports list\nuseEffect(()=>{fetch('/api/sports').then(response=>response.json()).then(data=>{setSports(data.sports||[]);}).catch(error=>{console.error('Error fetching sports:',error);});},[]);// Fetch dictionaries for expanded sports\nuseEffect(()=>{expandedSports.forEach(sport=>{if(!marketDictionaries[sport]||!matchEventsDictionaries[sport]){fetchDictionaries(sport);}});},[expandedSports]);// Fetch matches for expanded sports\nuseEffect(()=>{expandedSports.forEach(sport=>{if(!allMatches[sport]){fetchMatches(sport);}});},[expandedSports]);// Subscribe to matches when sports are expanded and matches are available\nuseEffect(()=>{if(!socket)return;expandedSports.forEach(sport=>{if(allMatches[sport]){allMatches[sport].forEach(league=>{league.matches.forEach(match=>{const channelKey=\"\".concat(sport,\":\").concat(match.id);if(!subscribedMatches.current.has(channelKey)){subscribeToMatch(sport,match.id);}});});}});const keysToRemove=[];subscribedMatches.current.forEach(key=>{const[sport]=key.split(':');if(!expandedSports.has(sport)){const channel=matchChannelsRef.current.get(key);if(channel){channel.leave();matchChannelsRef.current.delete(key);}keysToRemove.push(key);}});keysToRemove.forEach(key=>{subscribedMatches.current.delete(key);});},[socket,expandedSports]);// Clean up subscriptions when component unmounts\nuseEffect(()=>{return()=>{matchChannelsRef.current.forEach(channel=>{channel.leave();});matchChannelsRef.current.clear();subscribedMatches.current.clear();};},[]);// Subscribe to detailed match data for selected match (big data)\nuseEffect(()=>{if(!socket||!matchId)return;if(detailChannelRef.current){detailChannelRef.current.leave();}const detailChannel=socket.channel(\"match_details:\".concat(selectedSport,\":\").concat(matchId),{});detailChannel.join().receive('ok',()=>{console.log(\"\\u2705 Subscribed to detailed updates for match \".concat(matchId));}).receive('error',resp=>{console.log(\"\\u274C Failed to subscribe to detailed updates:\",resp);});detailChannel.on('full_match_data',payload=>{setFullMatchData(payload.data);});detailChannelRef.current=detailChannel;return()=>{if(detailChannel){detailChannel.leave();}};},[socket,selectedSport,matchId]);// Subscribe to current match small data updates\nuseEffect(()=>{if(!socket||!selectedSport||!matchId)return;const channelKey=\"\".concat(selectedSport,\":\").concat(matchId);// Don't create duplicate subscription if already exists\nif(matchChannelsRef.current.has(channelKey)){return;}const channelTopic=\"match:\".concat(selectedSport,\":\").concat(matchId);const matchChannel=socket.channel(channelTopic,{});matchChannel.join().receive('ok',()=>{console.log(\"\\u2705 Subscribed to small data for current match \".concat(matchId));subscribedMatches.current.add(channelKey);}).receive('error',resp=>{console.log(\"\\u274C Failed to subscribe to current match small data:\",resp);});matchChannel.on('match_update',payload=>{updateSpecificMatch(selectedSport,matchId,payload.data);});matchChannelsRef.current.set(channelKey,matchChannel);return()=>{if(matchChannel){matchChannel.leave();matchChannelsRef.current.delete(channelKey);subscribedMatches.current.delete(channelKey);}};},[socket,selectedSport,matchId]);// Load initial selected match\nuseEffect(()=>{if(allMatches[selectedSport]&&matchId){const match=findMatchById(selectedSport,matchId);if(match){setSelectedMatch(match);}}},[allMatches,selectedSport,matchId]);// Update selected match when navigating to different match\nuseEffect(()=>{if(allMatches[selectedSport]&&matchId){const match=findMatchById(selectedSport,matchId);if(match&&(!selectedMatch||selectedMatch.id!==matchId)){setSelectedMatch(match);}}},[selectedSport,matchId]);// Ensure selectedSport is always in expandedSports\nuseEffect(()=>{if(selectedSport){setExpandedSports(prev=>new Set([...prev,selectedSport]));}},[selectedSport]);const fetchDictionaries=async sport=>{try{const response=await fetch(\"/api/markets/\".concat(sport));const data=await response.json();if(data.markets){const marketMap={};data.markets.forEach(market=>{marketMap[market.id]=market.name;});setMarketDictionaries(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:marketMap}));}if(data.match_events){const eventsMap={};data.match_events.forEach(event=>{eventsMap[event.code]=event.name;});setMatchEventsDictionaries(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:eventsMap}));}}catch(error){console.error('Error fetching dictionaries:',error);}};const fetchMatches=async sport=>{try{const response=await fetch(\"/api/matches/\".concat(sport));const data=await response.json();setAllMatches(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:data.matches||[]}));}catch(error){console.error('Error fetching matches:',error);setAllMatches(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:[]}));}};const subscribeToMatch=(sport,matchId)=>{const channelKey=\"\".concat(sport,\":\").concat(matchId);if(subscribedMatches.current.has(channelKey)){return;}const channelTopic=\"match:\".concat(sport,\":\").concat(matchId);const matchChannel=socket.channel(channelTopic,{});matchChannel.join().receive('ok',()=>{console.log(\"\\u2705 Subscribed to \".concat(sport,\" match \").concat(matchId));subscribedMatches.current.add(channelKey);}).receive('error',resp=>{console.log(\"\\u274C Failed to subscribe to \".concat(sport,\" match \").concat(matchId,\":\"),resp);});matchChannel.on('match_update',payload=>{updateSpecificMatch(sport,matchId,payload.data);});matchChannelsRef.current.set(channelKey,matchChannel);};const updateSpecificMatch=(sport,matchId,newData)=>{// Update sidebar menu matches with small data\nsetAllMatches(prevMatches=>{if(!prevMatches[sport])return prevMatches;return _objectSpread(_objectSpread({},prevMatches),{},{[sport]:prevMatches[sport].map(league=>{const matchIndex=league.matches.findIndex(m=>m.id===matchId);if(matchIndex===-1)return league;const updatedMatches=[...league.matches];updatedMatches[matchIndex]=_objectSpread(_objectSpread({},updatedMatches[matchIndex]),{},{data:newData});return _objectSpread(_objectSpread({},league),{},{matches:updatedMatches});})});});// Update selected match with small data for header\nif(selectedMatch&&selectedMatch.id===matchId&&sport===selectedSport){setSelectedMatch(prevMatch=>_objectSpread(_objectSpread({},prevMatch),{},{data:newData}));}};const findMatchById=(sport,matchId)=>{if(!allMatches[sport])return null;for(const league of allMatches[sport]){const match=league.matches.find(m=>m.id===matchId);if(match)return match;}return null;};const handleMatchSelect=(sport,matchId)=>{navigate(\"/match/\".concat(sport,\"/\").concat(matchId));};const handleSportChange=newSport=>{// Add the new sport to expanded sports to fetch its matches\nsetExpandedSports(prev=>new Set([...prev,newSport]));navigate(\"/match/\".concat(newSport,\"/\").concat(matchId));};const toggleSidebarSport=sportName=>{setExpandedSportsInSidebar(prev=>{const newSet=new Set(prev);if(newSet.has(sportName)){newSet.delete(sportName);}else{newSet.add(sportName);// Also fetch matches for this sport if not already fetched\nsetExpandedSports(prevExpanded=>new Set([...prevExpanded,sportName]));}return newSet;});};const formatTime=seconds=>{if(!seconds)return'00:00';const minutes=Math.floor(seconds/60);const remainingSeconds=seconds%60;return\"\".concat(minutes,\":\").concat(remainingSeconds.toString().padStart(2,'0'));};const formatSportName=sport=>{const sportNames={soccer:'âš½ Football',basket:'ðŸ€ Basketball',tennis:'ðŸŽ¾ Tennis',baseball:'âš¾ Baseball',amfootball:'ðŸˆ American Football',hockey:'ðŸ’ Ice Hockey',volleyball:'ðŸ Volleyball'};return sportNames[sport]||sport;};const getMarketName=marketId=>{var _marketDictionaries$s;return((_marketDictionaries$s=marketDictionaries[selectedSport])===null||_marketDictionaries$s===void 0?void 0:_marketDictionaries$s[marketId])||\"Market \".concat(marketId);};const getScore=matchData=>{var _matchData$t,_matchData$t2;if(!matchData)return'0-0';switch(selectedSport){case'soccer':case'basket':case'amfootball':case'hockey':return\"\".concat(((_matchData$t=matchData.t1)===null||_matchData$t===void 0?void 0:_matchData$t.score)||0,\"-\").concat(((_matchData$t2=matchData.t2)===null||_matchData$t2===void 0?void 0:_matchData$t2.score)||0);default:return'0-0';}};const getMarketCategories=()=>{if(!(fullMatchData!==null&&fullMatchData!==void 0&&fullMatchData.odds))return[];const categories={popular:'Most Popular',match:'Match Result',goals:'Goals',corners:'Corners',cards:'Cards',specials:'Specials'};return Object.entries(categories).map(_ref=>{let[key,name]=_ref;return{key,name,count:fullMatchData.odds.length// In real app, would filter by category\n};});};const isLive=(fullMatchData===null||fullMatchData===void 0?void 0:fullMatchData.time)>0||(selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data=selectedMatch.data)===null||_selectedMatch$data===void 0?void 0:_selectedMatch$data.time)>0;if(!selectedMatch){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-700 mb-2\",children:\"Loading Match Details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Fetching live data and markets...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen w-full bg-gray-900\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-gray-800 text-white shadow-xl border-b border-gray-700 w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-blue-700 text-white py-2 px-4 text-xs text-center font-medium\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-2\",children:[\"\\uD83C\\uDFAF Live Match Center \\u2022 Real-time odds \\u2022 Cash Out available\",/*#__PURE__*/_jsx(\"span\",{className:\"bg-white bg-opacity-20 px-2 py-0.5 rounded-full text-xs font-bold\",children:\"LIVE\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between py-4 px-6 border-b border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-blue-700 p-2 rounded-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-black text-lg\",children:\"S\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-2xl bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent\",children:\"SportsBet\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 bg-gray-700 px-3 py-1.5 rounded-full text-xs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full animate-pulse \".concat(connectionStatus==='connected'?'bg-green-500':'bg-red-500')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300 font-medium\",children:connectionStatus.toUpperCase()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:flex items-center gap-4 text-sm\",children:[isLive&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 bg-red-600 px-3 py-1.5 rounded-full animate-pulse\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-white rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-white\",children:\"LIVE MATCH\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-700 px-3 py-1.5 rounded-full\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-300\",children:[\"Match #\",matchId]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"hidden md:block bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded-lg text-sm font-medium transition-colors\",onClick:()=>setIsLeftSidebarOpen(!isLeftSidebarOpen),children:isLeftSidebarOpen?'â—„':'â–º'}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-6 py-2.5 rounded-lg font-bold text-sm transition-all duration-200 transform hover:scale-105\",onClick:()=>navigate('/'),children:\"\\u2190 Back to Live\"}),/*#__PURE__*/_jsx(\"button\",{className:\"md:hidden bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded-lg text-sm transition-colors\",onClick:()=>setIsMobileMenuOpen(!isMobileMenuOpen),children:isMobileMenuOpen?'âœ•':'â˜°'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 border-b border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-6 py-3\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 text-sm font-bold rounded-lg transition-all \".concat(activeTab==='markets'?'bg-blue-600 text-white shadow-lg':'text-gray-400 hover:text-white hover:bg-gray-700'),onClick:()=>setActiveTab('markets'),children:\"\\uD83C\\uDFAF Markets\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 text-sm font-medium rounded-lg transition-all \".concat(activeTab==='stats'?'bg-blue-600 text-white shadow-lg':'text-gray-400 hover:text-white hover:bg-gray-700'),onClick:()=>setActiveTab('stats'),children:\"\\uD83D\\uDCCA Statistics\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 text-sm font-medium rounded-lg transition-all \".concat(activeTab==='tracker'?'bg-blue-600 text-white shadow-lg':'text-gray-400 hover:text-white hover:bg-gray-700'),onClick:()=>setActiveTab('tracker'),children:\"\\u26BD Live Tracker\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"text-blue-400 hover:text-blue-300 font-medium flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD34\"}),\"Watch Live\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-gray-400 hover:text-white flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCB0\"}),\"Cash Out\"]})]})]})})]})}),isMobileMenuOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden fixed inset-0 z-50 bg-black bg-opacity-70 backdrop-blur-sm\",onClick:()=>setIsMobileMenuOpen(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"absolute left-0 top-0 h-full w-80 bg-gray-800 shadow-2xl overflow-y-auto\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 px-4 py-3 border-b border-gray-700 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-semibold text-white uppercase tracking-wide\",children:\"Quick Navigation\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-white text-xl transition-colors\",onClick:()=>setIsMobileMenuOpen(false),children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-3 px-4 rounded-lg font-bold mb-4 transition-all duration-200 transform hover:scale-105\",onClick:()=>{navigate('/');setIsMobileMenuOpen(false);},children:\"\\u2190 Back to Live Events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:sports.map(sport=>/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left p-3 rounded-lg bg-gray-750 border border-gray-600 hover:bg-gray-700 transition-colors\",onClick:()=>{handleSportChange(sport.name);setIsMobileMenuOpen(false);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-white\",children:formatSportName(sport.name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400\",children:[sport.match_count,\" matches\"]})]},sport.name))})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full min-h-screen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:block bg-gray-800 border-r border-gray-700 overflow-y-auto max-h-screen transition-all duration-300 shadow-xl \".concat(isLeftSidebarOpen?'w-80 lg:w-96':'w-12'),children:isLeftSidebarOpen?/*#__PURE__*/// Full Sidebar Content\n_jsxs(\"div\",{className:\"h-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-900 border-b border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-blue-700 p-2 rounded-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\uD83C\\uDFC6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-sm text-white\",children:\"Sports Browser\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:\"Navigate & Explore\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-800\",children:sports.map(sport=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left p-3 border-b border-gray-200 transition-colors \".concat(selectedSport===sport.name?'bg-yellow-100 border-l-4 border-yellow-500':'hover:bg-gray-100'),onClick:()=>toggleSidebarSport(sport.name),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:sport.name==='soccer'?'âš½':sport.name==='basket'?'ðŸ€':sport.name==='tennis'?'ðŸŽ¾':sport.name==='baseball'?'âš¾':sport.name==='amfootball'?'ðŸˆ':sport.name==='hockey'?'ðŸ’':sport.name==='volleyball'?'ðŸ':'ðŸ†'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-sm\",style:{color:selectedSport===sport.name?'#003d02':'#333'},children:formatSportName(sport.name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[sport.match_count,\" matches\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[selectedSport===sport.name&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full font-bold\",style:{backgroundColor:'#ffb80a',color:'black'},children:\"CURRENT\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:expandedSportsInSidebar.has(sport.name)?'â–¼':'â–º'})]})]})}),expandedSportsInSidebar.has(sport.name)&&allMatches[sport.name]&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'white'},className:\"border-l-4 border-gray-200\",children:allMatches[sport.name].map((league,leagueIndex)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 text-xs font-bold bg-blue-50 text-blue-600\",children:[league.league,\" (\",league.matches.length,\")\"]}),league.matches.map((match,matchIndex)=>{var _match$data,_match$data2,_match$data2$t,_match$data3,_match$data3$t,_match$data4,_match$data4$t,_match$data5,_match$data5$t;const isCurrentMatch=match.id===matchId&&sport.name===selectedSport;const isLive=((_match$data=match.data)===null||_match$data===void 0?void 0:_match$data.time)>0;return/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left p-2 border-b border-gray-100 hover:bg-gray-50 transition-colors \".concat(isCurrentMatch?'bg-yellow-50':''),onClick:()=>handleMatchSelect(sport.name,match.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[isLive&&/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 rounded-full animate-pulse bg-red-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:isLive?formatTime(match.data.time):'Pre-Match'})]}),isCurrentMatch&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-1 py-0.5 rounded font-bold bg-yellow-400 text-black\",children:\"VIEWING\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs space-y-0.5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-900\",children:((_match$data2=match.data)===null||_match$data2===void 0?void 0:(_match$data2$t=_match$data2.t1)===null||_match$data2$t===void 0?void 0:_match$data2$t.name)||'Team 1'}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-red-600\",children:((_match$data3=match.data)===null||_match$data3===void 0?void 0:(_match$data3$t=_match$data3.t1)===null||_match$data3$t===void 0?void 0:_match$data3$t.score)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-900\",children:((_match$data4=match.data)===null||_match$data4===void 0?void 0:(_match$data4$t=_match$data4.t2)===null||_match$data4$t===void 0?void 0:_match$data4$t.name)||'Team 2'}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-red-600\",children:((_match$data5=match.data)===null||_match$data5===void 0?void 0:(_match$data5$t=_match$data5.t2)===null||_match$data5$t===void 0?void 0:_match$data5$t.score)||0})]})]})]},match.id);})]},leagueIndex))})]},sport.name))})]}):/*#__PURE__*/// Collapsed Sidebar - Icons Only\n_jsxs(\"div\",{className:\"h-full\",style:{backgroundColor:'#f7f7f7'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",style:{backgroundColor:'#003d02'},children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"\\uD83C\\uDFC6\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-1\",children:sports.map(sport=>/*#__PURE__*/_jsxs(\"button\",{className:\"w-full p-2 mb-1 rounded text-center transition-colors \".concat(selectedSport===sport.name?'bg-yellow-400 text-black':'hover:bg-gray-200'),onClick:()=>handleSportChange(sport.name),title:formatSportName(sport.name),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg block\",children:sport.name==='soccer'?'âš½':sport.name==='basket'?'ðŸ€':sport.name==='tennis'?'ðŸŽ¾':sport.name==='baseball'?'âš¾':sport.name==='amfootball'?'ðŸˆ':sport.name==='hockey'?'ðŸ’':sport.name==='volleyball'?'ðŸ':'ðŸ†'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs block\",children:sport.match_count})]},sport.name))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 w-full bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-4 lg:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row items-center justify-between mb-6 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-center gap-4 lg:gap-6 w-full lg:w-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mb-1\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t=fullMatchData.t1)===null||_fullMatchData$t===void 0?void 0:_fullMatchData$t.name)||(selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data2=selectedMatch.data)===null||_selectedMatch$data2===void 0?void 0:(_selectedMatch$data2$=_selectedMatch$data2.t1)===null||_selectedMatch$data2$===void 0?void 0:_selectedMatch$data2$.name)||'Team 1'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl sm:text-3xl lg:text-4xl font-black text-blue-600\",children:(_ref2=(_fullMatchData$t1$sco=fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t2=fullMatchData.t1)===null||_fullMatchData$t2===void 0?void 0:_fullMatchData$t2.score)!==null&&_fullMatchData$t1$sco!==void 0?_fullMatchData$t1$sco:selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data3=selectedMatch.data)===null||_selectedMatch$data3===void 0?void 0:(_selectedMatch$data3$=_selectedMatch$data3.t1)===null||_selectedMatch$data3$===void 0?void 0:_selectedMatch$data3$.score)!==null&&_ref2!==void 0?_ref2:0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:selectedSport==='soccer'?'âš½':selectedSport==='basket'?'ðŸ€':selectedSport==='tennis'?'ðŸŽ¾':selectedSport==='baseball'?'âš¾':selectedSport==='amfootball'?'ðŸˆ':selectedSport==='hockey'?'ðŸ’':selectedSport==='volleyball'?'ðŸ':'ðŸ†'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:formatSportName(selectedSport)}),((fullMatchData===null||fullMatchData===void 0?void 0:fullMatchData.time)>0||(selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data4=selectedMatch.data)===null||_selectedMatch$data4===void 0?void 0:_selectedMatch$data4.time)>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-3 h-3 bg-red-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 font-bold text-sm\",children:\"LIVE\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900\",children:formatTime((_fullMatchData$time=fullMatchData===null||fullMatchData===void 0?void 0:fullMatchData.time)!==null&&_fullMatchData$time!==void 0?_fullMatchData$time:selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data5=selectedMatch.data)===null||_selectedMatch$data5===void 0?void 0:_selectedMatch$data5.time)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mb-1\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t3=fullMatchData.t2)===null||_fullMatchData$t3===void 0?void 0:_fullMatchData$t3.name)||(selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data6=selectedMatch.data)===null||_selectedMatch$data6===void 0?void 0:(_selectedMatch$data6$=_selectedMatch$data6.t2)===null||_selectedMatch$data6$===void 0?void 0:_selectedMatch$data6$.name)||'Team 2'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl sm:text-3xl lg:text-4xl font-black text-blue-600\",children:(_ref3=(_fullMatchData$t2$sco=fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t4=fullMatchData.t2)===null||_fullMatchData$t4===void 0?void 0:_fullMatchData$t4.score)!==null&&_fullMatchData$t2$sco!==void 0?_fullMatchData$t2$sco:selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data7=selectedMatch.data)===null||_selectedMatch$data7===void 0?void 0:(_selectedMatch$data7$=_selectedMatch$data7.t2)===null||_selectedMatch$data7$===void 0?void 0:_selectedMatch$data7$.score)!==null&&_ref3!==void 0?_ref3:0})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 rounded-lg font-bold \".concat(isLive?'bg-red-500 text-white':'bg-gray-200 text-gray-700'),children:isLive?'ðŸ”´ LIVE':'â° Pre-Match'})]})]})})}),activeTab==='markets'&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 lg:p-6 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg lg:text-xl font-bold text-gray-900\",children:\"Betting Markets\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"bg-blue-100 text-blue-800 text-xs sm:text-sm px-2 py-1 rounded-full font-bold w-fit\",children:[(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$odds=fullMatchData.odds)===null||_fullMatchData$odds===void 0?void 0:_fullMatchData$odds.length)||0,\" Available\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 mb-6 overflow-x-auto pb-2\",children:getMarketCategories().map(category=>/*#__PURE__*/_jsxs(\"button\",{className:\"px-3 lg:px-4 py-2 text-xs lg:text-sm font-medium rounded-lg whitespace-nowrap transition-colors \".concat(selectedMarketCategory===category.key?'bg-yellow-500 text-black':'bg-gray-200 text-gray-700 hover:bg-gray-300'),onClick:()=>setSelectedMarketCategory(category.key),children:[category.name,\" (\",category.count,\")\"]},category.key))})]}),fullMatchData!==null&&fullMatchData!==void 0&&fullMatchData.odds&&Array.isArray(fullMatchData.odds)?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4 lg:gap-6 w-full\",children:fullMatchData.odds.map((market,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-4 lg:p-6 shadow-sm hover:shadow-md transition-shadow w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold text-gray-900 text-sm lg:text-lg mb-1\",children:[getMarketName(market.id),market.ha&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\",children:market.ha})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs lg:text-sm text-gray-500\",children:[\"Market #\",market.id]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 lg:space-y-3\",children:market.o&&Array.isArray(market.o)?market.o.map((odd,oddIndex)=>/*#__PURE__*/_jsx(\"button\",{className:\"w-full p-3 lg:p-4 rounded-xl transition-all duration-200 text-xs lg:text-sm font-bold border-2 \".concat(odd.bl===1?'bg-gray-50 text-gray-400 cursor-not-allowed border-gray-200':'bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white border-transparent shadow-lg hover:shadow-xl transform hover:scale-105'),disabled:odd.bl===1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-left font-medium truncate\",children:odd.n}),/*#__PURE__*/_jsx(\"span\",{className:\"text-right text-lg lg:text-xl font-black\",children:odd.v})]})},oddIndex)):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-6 lg:py-8 text-gray-400 bg-gray-50 rounded-xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl lg:text-2xl mb-2\",children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs lg:text-sm\",children:\"Loading odds...\"})]})})]},index))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 lg:py-16 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 lg:w-20 h-16 lg:h-20 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl lg:text-3xl\",children:\"\\uD83D\\uDCCA\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg lg:text-xl font-semibold text-gray-700 mb-2\",children:\"Loading Markets\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm lg:text-base text-gray-500 mb-4\",children:\"Fetching the latest betting odds...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-6 lg:w-8 h-6 lg:h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto\"})]})]}),activeTab==='stats'&&/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:\"\\uD83D\\uDCCA\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-700 mb-2\",children:\"Match Statistics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Live match stats will be displayed here\"})]})}),activeTab==='tracker'&&/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:\"\\u26BD\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-700 mb-2\",children:\"Live Match Tracker\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Real-time match visualization coming soon\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden xl:block w-80 2xl:w-96 bg-white border-l border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 lg:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 rounded-xl p-6 text-center mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-3\",children:\"\\uD83C\\uDFAB\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg\",children:\"Bet Slip\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 mb-4\",children:\"Click on odds to add selections\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-bold transition-colors\",children:\"Quick Bet\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-4 text-white mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium mb-2\",children:\"\\uD83D\\uDD34 Live Updates\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs mb-3\",children:\"Get real-time notifications for this match\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-white text-blue-600 px-3 py-1 rounded text-xs font-medium\",children:\"Enable Alerts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-xl p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-bold text-gray-700 mb-3\",children:\"\\uD83D\\uDCC8 Match Insights\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-xs text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Bets placed:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"2,847\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Most backed:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-600\",children:\"Home Win\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Biggest bet:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\xA35,420\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Live bettors:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-red-600\",children:\"1,203\"})]})]})]})]})})]})})]});}export default MatchDetailPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}