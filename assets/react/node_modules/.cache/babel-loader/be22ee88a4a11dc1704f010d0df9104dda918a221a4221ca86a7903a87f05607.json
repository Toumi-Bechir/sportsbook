{"ast":null,"code":"import _objectSpread from\"/home/sami/aaa/sportsbook/assets/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{useParams,useNavigate}from'react-router-dom';import{Socket}from'phoenix';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MatchDetailPage(){var _fullMatchData$t,_selectedMatch$data,_selectedMatch$data$t,_fullMatchData$t2,_selectedMatch$data2,_selectedMatch$data2$,_selectedMatch$data3,_fullMatchData$t3,_selectedMatch$data4,_selectedMatch$data4$,_fullMatchData$t4,_selectedMatch$data5,_selectedMatch$data5$;const{sport:selectedSport,matchId}=useParams();const navigate=useNavigate();// State management\nconst[sports,setSports]=useState([]);const[allMatches,setAllMatches]=useState({});const[expandedSports,setExpandedSports]=useState(new Set([selectedSport]));const[isMobileMenuOpen,setIsMobileMenuOpen]=useState(false);// Ensure selected sport is always expanded\nuseEffect(()=>{if(selectedSport&&!expandedSports.has(selectedSport)){setExpandedSports(new Set([selectedSport]));}},[selectedSport,expandedSports]);const[selectedMatch,setSelectedMatch]=useState(null);const[fullMatchData,setFullMatchData]=useState(null);const[activeTab,setActiveTab]=useState('stats');// Dictionaries\nconst[marketDictionaries,setMarketDictionaries]=useState({});const[matchEventsDictionaries,setMatchEventsDictionaries]=useState({});// Socket management\nconst[socket,setSocket]=useState(null);const[connectionStatus,setConnectionStatus]=useState('disconnected');const matchChannelsRef=useRef(new Map());const detailChannelRef=useRef(null);const subscribedMatches=useRef(new Set());// Initialize socket\nuseEffect(()=>{const newSocket=new Socket('/socket',{params:{userToken:'anonymous'}});newSocket.onOpen(()=>{setConnectionStatus('connected');});newSocket.onError(()=>{setConnectionStatus('error');});newSocket.onClose(()=>{setConnectionStatus('disconnected');});newSocket.connect();setSocket(newSocket);return()=>{if(newSocket){newSocket.disconnect();}};},[]);// Fetch sports list\nuseEffect(()=>{fetch('/api/sports').then(response=>response.json()).then(data=>{setSports(data.sports||[]);}).catch(error=>{console.error('Error fetching sports:',error);});},[]);// Fetch dictionaries for expanded sports\nuseEffect(()=>{expandedSports.forEach(sport=>{if(!marketDictionaries[sport]||!matchEventsDictionaries[sport]){fetchDictionaries(sport);}});},[expandedSports]);// Fetch matches for expanded sports\nuseEffect(()=>{expandedSports.forEach(sport=>{if(!allMatches[sport]){fetchMatches(sport);}});},[expandedSports]);// Subscribe to matches when sports are expanded and matches are available\nuseEffect(()=>{if(!socket)return;expandedSports.forEach(sport=>{if(allMatches[sport]){allMatches[sport].forEach(league=>{league.matches.forEach(match=>{const channelKey=\"\".concat(sport,\":\").concat(match.id);if(!subscribedMatches.current.has(channelKey)){subscribeToMatch(sport,match.id);}});});}});// Clean up subscriptions for sports that are no longer expanded\nconst keysToRemove=[];subscribedMatches.current.forEach(key=>{const[sport]=key.split(':');if(!expandedSports.has(sport)){const channel=matchChannelsRef.current.get(key);if(channel){channel.leave();matchChannelsRef.current.delete(key);}keysToRemove.push(key);}});keysToRemove.forEach(key=>{subscribedMatches.current.delete(key);});},[socket,expandedSports]);// Clean up subscriptions when component unmounts\nuseEffect(()=>{return()=>{matchChannelsRef.current.forEach(channel=>{channel.leave();});matchChannelsRef.current.clear();subscribedMatches.current.clear();};},[]);// Subscribe to detailed match data for selected match\nuseEffect(()=>{if(!socket||!matchId)return;if(detailChannelRef.current){detailChannelRef.current.leave();}const detailChannel=socket.channel(\"match_details:\".concat(selectedSport,\":\").concat(matchId),{});detailChannel.join().receive('ok',()=>{console.log(\"\\u2705 Subscribed to detailed updates for match \".concat(matchId));}).receive('error',resp=>{console.log(\"\\u274C Failed to subscribe to detailed updates:\",resp);});detailChannel.on('full_match_data',payload=>{setFullMatchData(payload.data);});detailChannelRef.current=detailChannel;return()=>{if(detailChannel){detailChannel.leave();}};},[socket,selectedSport,matchId]);// Load initial selected match\nuseEffect(()=>{if(allMatches[selectedSport]&&matchId){const match=findMatchById(selectedSport,matchId);if(match){setSelectedMatch(match);}}},[allMatches,selectedSport,matchId]);// Update selected match when navigating to different match\nuseEffect(()=>{if(allMatches[selectedSport]&&matchId){const match=findMatchById(selectedSport,matchId);if(match&&(!selectedMatch||selectedMatch.id!==matchId)){setSelectedMatch(match);}}},[selectedSport,matchId]);const fetchDictionaries=async sport=>{try{const response=await fetch(\"/api/markets/\".concat(sport));const data=await response.json();if(data.markets){const marketMap={};data.markets.forEach(market=>{marketMap[market.id]=market.name;});setMarketDictionaries(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:marketMap}));}if(data.match_events){const eventsMap={};data.match_events.forEach(event=>{eventsMap[event.code]=event.name;});setMatchEventsDictionaries(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:eventsMap}));}}catch(error){console.error('Error fetching dictionaries:',error);}};const fetchMatches=async sport=>{try{const response=await fetch(\"/api/matches/\".concat(sport));const data=await response.json();setAllMatches(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:data.matches||[]}));}catch(error){console.error('Error fetching matches:',error);setAllMatches(prev=>_objectSpread(_objectSpread({},prev),{},{[sport]:[]}));}};const subscribeToMatch=(sport,matchId)=>{const channelKey=\"\".concat(sport,\":\").concat(matchId);if(subscribedMatches.current.has(channelKey)){return;}const channelTopic=\"match:\".concat(sport,\":\").concat(matchId);const matchChannel=socket.channel(channelTopic,{});matchChannel.join().receive('ok',()=>{console.log(\"\\u2705 Subscribed to \".concat(sport,\" match \").concat(matchId));subscribedMatches.current.add(channelKey);}).receive('error',resp=>{console.log(\"\\u274C Failed to subscribe to \".concat(sport,\" match \").concat(matchId,\":\"),resp);});matchChannel.on('match_update',payload=>{updateSpecificMatch(sport,matchId,payload.data);});matchChannelsRef.current.set(channelKey,matchChannel);};const updateSpecificMatch=(sport,matchId,newData)=>{setAllMatches(prevMatches=>{if(!prevMatches[sport])return prevMatches;return _objectSpread(_objectSpread({},prevMatches),{},{[sport]:prevMatches[sport].map(league=>{const matchIndex=league.matches.findIndex(m=>m.id===matchId);if(matchIndex===-1)return league;const updatedMatches=[...league.matches];updatedMatches[matchIndex]=_objectSpread(_objectSpread({},updatedMatches[matchIndex]),{},{data:newData});return _objectSpread(_objectSpread({},league),{},{matches:updatedMatches});})});});// Update selected match if it's the one being updated\nif(selectedMatch&&selectedMatch.id===matchId&&sport===selectedSport){setSelectedMatch(prevMatch=>_objectSpread(_objectSpread({},prevMatch),{},{data:newData}));}};const findMatchById=(sport,matchId)=>{if(!allMatches[sport])return null;for(const league of allMatches[sport]){const match=league.matches.find(m=>m.id===matchId);if(match)return match;}return null;};const handleSportToggle=sport=>{console.log('🔥 handleSportToggle called with:',sport);console.log('🔥 Current expandedSports:',Array.from(expandedSports));setExpandedSports(prev=>{console.log('🔥 Previous expanded sports:',Array.from(prev));const newSet=new Set();// If sport is not currently expanded, expand it (and collapse others)\nif(!prev.has(sport)){newSet.add(sport);console.log('🔥 Expanding sport:',sport);}else{console.log('🔥 Collapsing sport:',sport);}console.log('🔥 New expanded sports will be:',Array.from(newSet));// If sport is already expanded, clicking it will collapse it (empty set)\nreturn newSet;});};const handleMatchSelect=(sport,matchId)=>{navigate(\"/match/\".concat(sport,\"/\").concat(matchId));};const formatTime=seconds=>{if(!seconds)return'00:00';const minutes=Math.floor(seconds/60);const remainingSeconds=seconds%60;return\"\".concat(minutes,\":\").concat(remainingSeconds.toString().padStart(2,'0'));};const formatSportName=sport=>{const sportNames={soccer:'⚽ Soccer',basket:'🏀 Basketball',tennis:'🎾 Tennis',baseball:'⚾ Baseball',amfootball:'🏈 American Football',hockey:'🏒 Hockey',volleyball:'🏐 Volleyball'};return sportNames[sport]||sport;};const getMarketName=marketId=>{var _marketDictionaries$s;return((_marketDictionaries$s=marketDictionaries[selectedSport])===null||_marketDictionaries$s===void 0?void 0:_marketDictionaries$s[marketId])||\"Market \".concat(marketId);};const getScore=matchData=>{var _matchData$t,_matchData$t2;if(!matchData)return'0-0';switch(selectedSport){case'soccer':case'basket':case'amfootball':case'hockey':return\"\".concat(((_matchData$t=matchData.t1)===null||_matchData$t===void 0?void 0:_matchData$t.score)||0,\"-\").concat(((_matchData$t2=matchData.t2)===null||_matchData$t2===void 0?void 0:_matchData$t2.score)||0);default:return'0-0';}};if(!selectedMatch){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"Loading match details...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-gray-900 text-white border-b border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between py-2 text-sm border-b border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400 font-bold text-lg\",children:\"bet365\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 rounded-full\",style:{backgroundColor:connectionStatus==='connected'?'#10B981':'#EF4444'}}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:connectionStatus.toUpperCase()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6 text-xs text-gray-300\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-white font-medium transition-colors\",onClick:()=>navigate('/'),children:\"\\u2190 Back to Live\"}),/*#__PURE__*/_jsx(\"button\",{className:\"lg:hidden bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-white font-medium transition-colors\",onClick:()=>setIsMobileMenuOpen(!isMobileMenuOpen),children:isMobileMenuOpen?'✕ Close':'☰ Sports'}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Match Details\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-yellow-400\",children:\"\\uD83C\\uDFC6 Match Center\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center gap-6 text-sm\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-white hover:text-yellow-400 transition-colors\",children:\"Live\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-gray-300 hover:text-yellow-400 transition-colors\",children:\"Markets\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-gray-300 hover:text-yellow-400 transition-colors\",children:\"Statistics\"})]})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 py-4\",children:[isMobileMenuOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden fixed inset-0 z-50 bg-black bg-opacity-50\",onClick:()=>setIsMobileMenuOpen(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"absolute left-0 top-0 h-full w-80 bg-white shadow-xl overflow-y-auto\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-3 border-b border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-semibold text-gray-800 uppercase tracking-wide\",children:\"Sports\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-500 hover:text-gray-700 text-xl\",onClick:()=>setIsMobileMenuOpen(false),children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:sports.map(sport=>{const isExpanded=expandedSports.has(sport.name);return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded transition-all duration-200 \".concat(selectedSport===sport.name?'bg-yellow-400 text-gray-900 shadow-sm':'text-gray-700 hover:bg-gray-100 hover:text-gray-900'),onClick:()=>{const newExpanded=new Set(expandedSports);if(isExpanded){newExpanded.delete(sport.name);}else{newExpanded.add(sport.name);}setExpandedSports(newExpanded);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center gap-2\",children:formatSportName(sport.name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full font-semibold \".concat(selectedSport===sport.name?'bg-gray-900 text-yellow-400':'bg-gray-200 text-gray-600'),children:sport.match_count}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:isExpanded?'▼':'▶'})]})]}),isExpanded&&allMatches[sport.name]&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 ml-4 space-y-1\",children:allMatches[sport.name].map((league,leagueIndex)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-gray-600 py-1 px-2 bg-gray-50 rounded\",children:league.league}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1 mt-1\",children:league.matches.map(match=>{var _match$data,_match$data2,_match$data3,_match$data3$t,_match$data4,_match$data4$t,_match$data5,_match$data5$t,_match$data6,_match$data6$t;return/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left p-2 rounded text-xs transition-colors \".concat(match.id===matchId?'bg-blue-100 border border-blue-300 text-blue-900':'hover:bg-gray-50 border border-transparent'),onClick:()=>{handleMatchSelect(sport.name,match.id);setIsMobileMenuOpen(false);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:formatTime((_match$data=match.data)===null||_match$data===void 0?void 0:_match$data.time)}),((_match$data2=match.data)===null||_match$data2===void 0?void 0:_match$data2.time)>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-xs\",children:\"LIVE\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_match$data3=match.data)===null||_match$data3===void 0?void 0:(_match$data3$t=_match$data3.t1)===null||_match$data3$t===void 0?void 0:_match$data3$t.name)||'Team 1'}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-green-600\",children:((_match$data4=match.data)===null||_match$data4===void 0?void 0:(_match$data4$t=_match$data4.t1)===null||_match$data4$t===void 0?void 0:_match$data4$t.score)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_match$data5=match.data)===null||_match$data5===void 0?void 0:(_match$data5$t=_match$data5.t2)===null||_match$data5$t===void 0?void 0:_match$data5$t.name)||'Team 2'}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-green-600\",children:((_match$data6=match.data)===null||_match$data6===void 0?void 0:(_match$data6$t=_match$data6.t2)===null||_match$data6$t===void 0?void 0:_match$data6$t.score)||0})]})]})]},match.id);})})]},leagueIndex))})]},sport.name);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-12 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:block lg:col-span-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-4 py-3 border-b border-gray-200 rounded-t-lg\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-semibold text-gray-800 uppercase tracking-wide\",children:\"Sports\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:sports.map(sport=>{const isExpanded=expandedSports.has(sport.name);return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded transition-all duration-200 \".concat(selectedSport===sport.name?'bg-yellow-400 text-gray-900 shadow-sm':'text-gray-700 hover:bg-gray-100 hover:text-gray-900'),onClick:()=>{const newExpanded=new Set(expandedSports);if(isExpanded){newExpanded.delete(sport.name);}else{newExpanded.add(sport.name);}setExpandedSports(newExpanded);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center gap-2\",children:formatSportName(sport.name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full font-semibold \".concat(selectedSport===sport.name?'bg-gray-900 text-yellow-400':'bg-gray-200 text-gray-600'),children:sport.match_count}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:isExpanded?'▼':'▶'})]})]}),isExpanded&&allMatches[sport.name]&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 ml-4 space-y-1\",children:allMatches[sport.name].map((league,leagueIndex)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-gray-600 py-1 px-2 bg-gray-50 rounded\",children:league.league}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1 mt-1\",children:league.matches.map(match=>{var _match$data7,_match$data8,_match$data9,_match$data9$t,_match$data0,_match$data0$t,_match$data1,_match$data1$t,_match$data10,_match$data10$t;return/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left p-2 rounded text-xs transition-colors \".concat(match.id===matchId?'bg-blue-100 border border-blue-300 text-blue-900':'hover:bg-gray-50 border border-transparent'),onClick:()=>handleMatchSelect(sport.name,match.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:formatTime((_match$data7=match.data)===null||_match$data7===void 0?void 0:_match$data7.time)}),((_match$data8=match.data)===null||_match$data8===void 0?void 0:_match$data8.time)>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-xs\",children:\"LIVE\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_match$data9=match.data)===null||_match$data9===void 0?void 0:(_match$data9$t=_match$data9.t1)===null||_match$data9$t===void 0?void 0:_match$data9$t.name)||'Team 1'}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-green-600\",children:((_match$data0=match.data)===null||_match$data0===void 0?void 0:(_match$data0$t=_match$data0.t1)===null||_match$data0$t===void 0?void 0:_match$data0$t.score)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_match$data1=match.data)===null||_match$data1===void 0?void 0:(_match$data1$t=_match$data1.t2)===null||_match$data1$t===void 0?void 0:_match$data1$t.name)||'Team 2'}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-green-600\",children:((_match$data10=match.data)===null||_match$data10===void 0?void 0:(_match$data10$t=_match$data10.t2)===null||_match$data10$t===void 0?void 0:_match$data10$t.score)||0})]})]})]},match.id);})})]},leagueIndex))})]},sport.name);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-9 xl:col-span-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 sm:p-6 rounded-t-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-center justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 sm:gap-6 w-full justify-center sm:justify-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm sm:text-lg font-bold truncate max-w-24 sm:max-w-none\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t=fullMatchData.t1)===null||_fullMatchData$t===void 0?void 0:_fullMatchData$t.name)||(selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data=selectedMatch.data)===null||_selectedMatch$data===void 0?void 0:(_selectedMatch$data$t=_selectedMatch$data.t1)===null||_selectedMatch$data$t===void 0?void 0:_selectedMatch$data$t.name)||'Team 1'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl sm:text-3xl font-bold mt-1 sm:mt-2\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t2=fullMatchData.t1)===null||_fullMatchData$t2===void 0?void 0:_fullMatchData$t2.score)||(selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data2=selectedMatch.data)===null||_selectedMatch$data2===void 0?void 0:(_selectedMatch$data2$=_selectedMatch$data2.t1)===null||_selectedMatch$data2$===void 0?void 0:_selectedMatch$data2$.score)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs sm:text-sm opacity-80\",children:\"VS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg sm:text-xl font-bold mt-1 sm:mt-2\",children:formatTime((fullMatchData===null||fullMatchData===void 0?void 0:fullMatchData.time)||(selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data3=selectedMatch.data)===null||_selectedMatch$data3===void 0?void 0:_selectedMatch$data3.time))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm sm:text-lg font-bold truncate max-w-24 sm:max-w-none\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t3=fullMatchData.t2)===null||_fullMatchData$t3===void 0?void 0:_fullMatchData$t3.name)||(selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data4=selectedMatch.data)===null||_selectedMatch$data4===void 0?void 0:(_selectedMatch$data4$=_selectedMatch$data4.t2)===null||_selectedMatch$data4$===void 0?void 0:_selectedMatch$data4$.name)||'Team 2'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl sm:text-3xl font-bold mt-1 sm:mt-2\",children:(fullMatchData===null||fullMatchData===void 0?void 0:(_fullMatchData$t4=fullMatchData.t2)===null||_fullMatchData$t4===void 0?void 0:_fullMatchData$t4.score)||(selectedMatch===null||selectedMatch===void 0?void 0:(_selectedMatch$data5=selectedMatch.data)===null||_selectedMatch$data5===void 0?void 0:(_selectedMatch$data5$=_selectedMatch$data5.t2)===null||_selectedMatch$data5$===void 0?void 0:_selectedMatch$data5$.score)||0})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center sm:text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs sm:text-sm opacity-80\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 px-2 sm:px-3 py-1 rounded text-xs sm:text-sm font-medium \".concat(connectionStatus==='connected'?'bg-green-500':'bg-red-500'),children:connectionStatus==='connected'?'🔴 LIVE':'⚫ OFFLINE'})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-6 py-4 border-b border-gray-200 rounded-t-lg\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"All Markets\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 sm:p-6\",children:fullMatchData!==null&&fullMatchData!==void 0&&fullMatchData.odds&&Array.isArray(fullMatchData.odds)?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6\",children:fullMatchData.odds.map((market,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-900\",children:[getMarketName(market.id),market.ha&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500 ml-1\",children:[\"(\",market.ha,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400\",children:[\"Market ID: \",market.id]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-2\",children:market.o&&Array.isArray(market.o)?market.o.map((odd,oddIndex)=>/*#__PURE__*/_jsx(\"button\",{className:\"p-3 rounded transition-all duration-200 text-sm font-medium \".concat(odd.bl===1?'bg-gray-100 text-gray-400 cursor-not-allowed':'bg-green-500 hover:bg-green-600 text-white shadow-sm hover:shadow-md'),disabled:odd.bl===1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:odd.n}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-lg\",children:odd.v})]})},oddIndex)):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-400 text-sm\",children:\"No odds available\"})})]},index))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"Loading markets...\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden xl:block xl:col-span-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-4 py-3 border-b border-gray-200 rounded-t-lg\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-semibold text-gray-800 uppercase tracking-wide\",children:\"Match Tracker\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-2\",children:\"\\u26BD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:\"Live match tracker\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:\"Coming soon\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 px-4 py-3 text-sm font-medium \".concat(activeTab==='stats'?'text-blue-600 border-b-2 border-blue-600 bg-blue-50':'text-gray-500 hover:text-gray-700'),onClick:()=>setActiveTab('stats'),children:\"Stats\"}),/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 px-4 py-3 text-sm font-medium \".concat(activeTab==='timeline'?'text-blue-600 border-b-2 border-blue-600 bg-blue-50':'text-gray-500 hover:text-gray-700'),onClick:()=>setActiveTab('timeline'),children:\"Timeline\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:activeTab==='stats'?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-2\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:\"Match statistics\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:\"Will be displayed here\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-2\",children:\"\\u23F1\\uFE0F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:\"Match timeline\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:\"Will be displayed here\"})]})})]})]})]})]})]});}export default MatchDetailPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}